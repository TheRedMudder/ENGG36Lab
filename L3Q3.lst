C:\Kwong\L3Q3.lst - generated by MGTEK Assembler ASM12 V1.26 Build 144 for WIN32 (x86) - Fri Nov 02 01:01:03 2018

    1:          =00000020              N       equ     32      ;N=32
    2:          =00001000                      org     $1000   ;SP=$1000
    3:     1000 0A 0C 0E 10 12 14      arr     db      10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40
           1006 16 18 1A 1C 1E 20 
           100C 22 24 26 28 
    4:     1010 2A 2C 2E 30 32 34              db      42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72
           1016 36 38 3A 3C 3E 40 
           101C 42 44 46 48 
    5:                                 
    6:                                 
    7:          =00001100                      org     $1100   ;SP=$1100
    8:     1100 +0020                  arr_2   rmb     32      ;Reserve 32 bytes for arr_2
    9:                                 
   10:     1120 +0001                  elemloc rmb     1       ;Reserve 1 byte for elemloc
   11:     1121 +0001                  newloc  rmb     1       ;Reserve 1 byte for newloc
   12:          =00002000                      org     $2000   ;SP=$2000
   13:     2000 CE 1000                        ldx     #arr    ;load memory location of arr
   14:     2003 79 1120                        clr     elemloc ;set elemloc =0
   15:     2006 79 1121                        clr     newloc  ;set newloc=0
   16:     2009 C6 20                          ldab    #N      ;Load N(32) into B
   17:     200B A6 00                  loop    ldaa    0,x     ;Load element of arr into A
   18:     200D 7B 1120                        stab    elemloc ;Save B into elemloc(B is continously decreasing)
   19:     2010 C6 20                          ldab    #N      ;Load N(32) into B
   20:     2012 F0 1120                        subb    elemloc ;Subtract B-elemloc=32-elemloc
   21:     2015 7B 1121                        stab    newloc  ;Store B as newloc
   22:     2018 7A 2221                        staa    arr_2+newloc;offset store to arr_2 + newloc
   23:     201B 08                             inx             ;Increment X
   24:     201C F6 1120                        ldab    elemloc ;Load Element Location
   25:     201F 04 31 E9                       dbne    b,loop  ;Decrease b and branch if not 0
   26:                                         
   27:     2022 3F                             swi             ;Software Interrupt
   28:                                         end

Symbols:
arr                             *00001000
arr_2                           *00001100
elemloc                         *00001120
loop                            *0000200b
n                               *00000020
newloc                          *00001121

