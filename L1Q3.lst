C:\Kwong\L1Q3.lst - generated by MGTEK Assembler ASM12 V1.26 Build 144 for WIN32 (x86) - Thu Nov 01 22:33:51 2018

    1:          =00001000                      org     $1000   ; SP to mem address $1000
    2:     1000 12 0D 56               M       dc.b    $12,13,$56; 3 bytes for multiplicand,$1000-$1001-$1002
    3:     1003 65 43 15               N       dc.b    $65,$43,21; 3 bytes for multiplier,  $1003-$1004-$1005
    4:          =00001100                      org     $1100
    5:     1100 06                     P       dc.b    6       ; 6 bytes for product,$1006-$1007-$1008-$1009-$100A-$100B
    6:                                         
    7:          =00002000                      org     $2000   ; SP to mem address $2000
    8:     2000 FC 1001                        ldd     M+1     ; place Ml in D
    9:     2003 FD 1004                        ldy     N+1     ; place N1 in D
   10:     2006 13                             emul            ; compute Ml*Nl Y:D
   11:     2007 7D 1102                        sty     P+2     ; save upper 16 bits of partial product MlNl
   12:     200A 7C 1104                        std     P+4     ; save lower 16 bits of partial product MlNl
   13:                                 
   14:                                 
   15:     200D B6 1000                        ldaa    M       ; place Mh in A
   16:     2010 F6 1003                        ldab    N       ; place Nh in B
   17:     2013 12                             mul             ; A*B->A:B
   18:     2014 7C 1100                        std     P       ; Store A->P, B->P+1
   19:                                 
   20:     2017 86 00                          ldaa    #0      ; Load 0s into A
   21:     2019 F6 1000                        ldab    M       ; Load Mh in B
   22:     201C FD 1004                        ldy     N+1     ; Load Nl in Y
   23:     201F 13                             emul            ; compute Mh*Nl Y:D
   24:     2020 F3 1102                        addd    P+2     ; add lower half of MhNl and uper half of MlNl
   25:     2023 7C 1102                        std     P+2     ; Save sum to P+2-P+3
   26:     2026 B7 64                          tfr     Y,D     ; move upper half of MhNl to A:B 
   27:     2028 F9 1101                        adcb    P+1     ; "add with carry" upper half of MhNl and
   28:     202B 7B 1101                        stab    P+1     ; lower half of MlNh
   29:     202E B9 1100                        adca    P
   30:     2031 7A 1100                        staa    P
   31:                                         
   32:     2034 86 00                          ldaa    #0      ; Load 0s into A
   33:     2036 F6 1003                        ldab    N       ; Load Nh in B
   34:     2039 FD 1001                        ldy     M+1     ; Load Ml in Y
   35:     203C 13                             emul            ; compute Mh*Nl Y:D
   36:     203D F3 1102                        addd    P+2     ; add lower half of MlNh with rest
   37:     2040 7C 1102                        std     P+2     ; Save sum to P+2-P+3
   38:     2043 B7 64                          tfr     Y,D     ; move upper half of MlNh to A:B 
   39:     2045 F9 1101                        adcb    P+1     ; "add with carry" upper half of MlNh
   40:     2048 7B 1101                        stab    P+1     ; l
   41:     204B B9 1100                        adca    P
   42:     204E 7A 1100                        staa    P
   43:     2051 3F                             swi
   44:                                         end

Symbols:
m                               *00001000
n                               *00001003
p                               *00001100

